/* bron: code van Sanne */
section[data-panel='radar'] {
	place-self: center;
	grid-column: 3 / 4;
	grid-row: 3 / 5;

	& div {
		--animation-duration: 4s;
		--opacity1: 0;
		--opacity2: 0;
		--opacity3: 0;
		--opacity4: 0;

		/* --dot1-position: 20% 30%;
		--dot2-position: 55% 30%;
		--dot3-position: 30% 70%;
		--dot4-position: 70% 80%; */

		width: 17em;
		aspect-ratio: 1;

		/* prettier-ignore */
		animation: radar var(--animation-duration) infinite linear, 
		dot-blink-1 var(--animation-duration) infinite ease calc(var(--animation-duration) / 2) reverse,
		dot-blink-2 var(--animation-duration) infinite ease calc(var(--animation-duration) / 1.4) reverse, 
		dot-blink-3 var(--animation-duration) infinite ease calc(var(--animation-duration) / 3.5) reverse,
		dot-blink-4 var(--animation-duration) infinite ease calc(var(--animation-duration) / 13.5) reverse;
		background-color: black;
		border: solid 20px black;

		background-image:
		/* het mask */ radial-gradient(
				closest-side,
				transparent 100%,
				black calc(100% + 0.5px)
			),
			/* de woosh */
				conic-gradient(
					from var(--radar-angle, 0deg),
					transparent,
					lime 119.8deg,
					transparent 120.2deg
				),
			/* dots (custom B) ) */
				radial-gradient(
					circle at var(--dot1-position, -17px -17px),
					rgba(0 255 0 / var(--opacity1)) 7px,
					transparent 17px
				),
			radial-gradient(
				circle at var(--dot2-position, -17px -17px),
				rgba(0 255 0 / var(--opacity2)) 7px,
				transparent 17px
			),
			radial-gradient(
				circle at var(--dot3-position, -17px -17px),
				rgba(0 255 0 / var(--opacity3)) 7px,
				transparent 17px
			),
			radial-gradient(
				circle at var(--dot4-position, -17px -17px),
				rgba(0 255 0 / var(--opacity4)) 7px,
				transparent 17px
			),
			/* horizontale lijnen */
				repeating-linear-gradient(
					to right,
					transparent 45% calc(50% - 0.6px),
					lime calc(50% - 0.4px) calc(50% + 0.4px),
					transparent calc(50% + 0.6px) 55%
				),
			/* verticale lijnen */
				repeating-linear-gradient(
					transparent 45% calc(50% - 0.6px),
					lime calc(50% - 0.4px) calc(50% + 0.4px),
					transparent calc(50% + 0.6px) 55%
				),
			/* cirkels */
				repeating-radial-gradient(
					closest-side,
					lime 0 0.4px,
					transparent 0.6px calc(20% - 0.6px),
					lime calc(20% - 0.4px) 20%
				);
	}
}

@keyframes dot-blink-1 {
	0%,
	30% {
		--opacity1: 0;
	}
	100% {
		--opacity1: 1;
	}
}
@keyframes dot-blink-2 {
	0%,
	30% {
		--opacity2: 0;
	}
	100% {
		--opacity2: 1;
	}
}
@keyframes dot-blink-3 {
	0%,
	30% {
		--opacity3: 0;
	}
	100% {
		--opacity3: 1;
	}
}
@keyframes dot-blink-4 {
	0%,
	30% {
		--opacity4: 0;
	}
	100% {
		--opacity4: 1;
	}
}

@keyframes radar {
	to {
		--radar-angle: 360deg;
	}
}

@property --opacity1 {
	syntax: '<number>';
	inherits: false;
	initial-value: 0;
}
@property --opacity2 {
	syntax: '<number>';
	inherits: false;
	initial-value: 0;
}
@property --opacity3 {
	syntax: '<number>';
	inherits: false;
	initial-value: 0;
}
@property --opacity4 {
	syntax: '<number>';
	inherits: false;
	initial-value: 0;
}

/* zodat de browser weet hoe --radar-angle te animeren */
/* werkt in chrome - wel onderdeel va interop 2023 */
@property --radar-angle {
	syntax: '<angle>';
	inherits: false;
	initial-value: 0deg;
}
